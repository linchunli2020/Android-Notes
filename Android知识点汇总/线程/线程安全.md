***出现线程安全的原因？***

在多个线程并发环境下，多个线程共同访问同一共享内存资源时，其中一个线程对内存资源进行写操作的中途，其他线程对这个写了一半的资源进行了读操作，
或者对这个写了一半的资源进行了写的操作，导致此资源出现数据错误。

***如何避免线程安全问题？***

1.保证共享资源在同一时间只能由一个线程进行操作（原子性，有序性）

2.将线程操作的结果及时刷新，保证其他线程可以立即获取到修改后的最新数据（可见性）


参考：https://juejin.cn/post/6844903890224152584
