***什么是反射机制？***

JAVA反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意一个方法和属性；
这种动态获取的信息以及动态调用对象的方法的功能称为java语言的反射机制（注意关键词：运行状态）换句话说，Java程序可以加载一个运行时才得知名称的class，
获悉其完整构造（但不包括methods定义），并生成其对象实体、或对其fields设值、或唤起其methods。

***反射的原理：***

反射主要是指程序可以访问、检测和修改它本身状态或行为的一种能力

java反射就是在运行状态中，
    对于任意一个类，都能知道它所有的属性和方法；
    对于任意一个对象，都能调用他的任意一个方法；
这种动态获取的信息以及动态调用对象的方法称为java语言的反射机制

***反射的作用：***

在运行时判断任意一个对象所属的类；

在运行时构造任意一个类的对象；

在运行时判断任意一个类所具有的成员变量和方法；

在运行时调用任意一个对象的方法；

生成动态代理。

***java中的Class三种获取方式：***

    利用对象调用getClass()方法获取该对象的Class实例；

    使用Class类的静态方法forName()，用类的名字获取一个Class实例 ；

    运用.class的方式来获取Class实例，对于基本数据类型的封装类，还可以采用.TYPE来获取相对应的基本数据类型的Class实例；

说明：在运行期间，如果我们要产生某个类的对象，Java虚拟机(JVM)会检查该类型的Class对象是否已被加载。如果没有被加载，JVM会根据类的名称找到.class文件并加载它。
一旦某个类型的Class对象已被加载到内存，就可以用它来产生该类型的所有对象。

<img width="657" alt="image" src="https://user-images.githubusercontent.com/67937122/162662559-bcdeb807-c821-452b-9210-d21c8b8de389.png">

***如何通过反射获取私有成员变量和私有方法？***

<img width="668" alt="image" src="https://user-images.githubusercontent.com/67937122/162662617-70bbe861-bf14-4973-a8b3-235104160498.png">

<img width="627" alt="image" src="https://user-images.githubusercontent.com/67937122/162662649-63dd1cfd-13c4-47a2-8861-61eae504a19a.png">

***反射的使用场景：***

参考链接：https://juejin.cn/post/6844904016640475150

***那么在底层，是怎么获取到类的相关信息的呢？***

首先回顾下JVM加载Java文件的过程：

    编译阶段，.java文件会被编译成.class文件，.class文件是一种二进制文件，内容是JVM能够识别的机器码。
    .class文件里面依次存储着类文件的各种信息，比如：版本号、类的名字、字段的描述和描述符、方法名称和描述、是不是public、类索引、字段表集合，方法集合等等数据。
    然后，JVM中的类加载器会读取字节码文件，取出二进制数据，加载到内存中，并且解析.class文件的信息。
    类加载器会获取类的二进制字节流，在内存中生成代表这个类的java.lang.Class对象。
    最后会开始类的生命周期，比如连接、初始化等等。

而反射，就是去操作这个 java.lang.Class对象，这个对象中有整个类的结构，包括属性方法等等。
总结来说就是，.class是一种有顺序的结构文件,而Class对象就是对这种文件的一种表示，所以我们能从Class对象中获取关于类的所有信息，这就是反射的原理。

转载链接：
http://blog.qiji.tech/archives/4374

https://www.jianshu.com/p/2958d7676593

https://www.cnblogs.com/jimuzz/p/14297042.html
